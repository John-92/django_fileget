FROM alpine:3.14
ENV PYTHONUNBUFFERED=1
COPY pip.conf /root/.pip/pip.conf                                                                                                                                                                                                                                                                                                       
# 在 容 器 内 /var/www/html/下 创 建  fileget 文 件 夹                                                                                                                        
RUN mkdir -p /var/www/html/fileget
WORKDIR /var/www/html/fileget
COPY . /var/www/html/fileget/
RUN apk add --no-cache  zlib-dev bzip2-dev pcre-dev openssl-dev ncurses-dev sqlite-dev readline-dev tk-dev python3 python3-dev py3-pip \
     gcc make libc-dev linux-headers pcre-dev \
   && pip install -r requirements.txt
RUN chmod +x ./start.sh 
CMD ./start.sh && tail -f /tmp/fileget-uwsgi.log  

